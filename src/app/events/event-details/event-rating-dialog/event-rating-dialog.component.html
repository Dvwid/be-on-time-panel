<div class="flex flex-col gap-3 p-5">
  <div class="text-xl">
    Twoja ocena
  </div>

  <div class="flex justify-center w-full">
    <app-star-rating [rating]="rating"
                     (ratingUpdated)="rating = $event"
                     [starCount]="5">
    </app-star-rating>
  </div>

  <div class="text-xl">
    Czy masz uwagi lub sugestie dotyczące tego wydarzenia?
  </div>

  <form #form="ngForm"
        [formGroup]="rateForm"
        class="w-full">
    <app-textarea [form]="form"
                  [required]="false"
                  [rows]="5"
                  [formGroup]="rateForm"
                  label="Treść opinii (Opcjonalne)"
                  class="w-full"
                  controlName="description">
    </app-textarea>
  </form>

  <div class="flex justify-end gap-1 w-full">
    <app-icon-button label="Anuluj"
                     [showSpinner]="isRatingPending$ | async"
                     (afterClick)="close()"
                     btnStyle="outlined">
    </app-icon-button>

    <app-icon-button
      [label]="rateForm?.controls?.description?.value?.length > 0 ? 'Oceń wydarzenie' : 'Oceń bez komentarza'"
      [showSpinner]="isRatingPending$ | async"
      (afterClick)="rateEvent()"
      [btnStyle]="rateForm?.controls?.description?.value?.length > 0 ? 'primary' : 'outlined'">
    </app-icon-button>
  </div>
</div>


